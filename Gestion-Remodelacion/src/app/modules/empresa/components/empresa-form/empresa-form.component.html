<h2 mat-dialog-title>{{ (isEditMode ? 'EMPRESAS.EDIT_EMPRESA' : 'EMPRESAS.CREATE_EMPRESA') | translate }}</h2>

<form [formGroup]="empresaForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content class="mat-typography form-content">

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>{{ 'EMPRESAS.NAME' | translate }}</mat-label>
      <input matInput formControlName="nombreEmpresa" required>
      <mat-error *ngIf="empresaForm.get('nombreEmpresa')?.hasError('required')">{{ 'EMPRESAS.NAME_REQUIRED' | translate }}</mat-error>
    </mat-form-field>

    <div class="form-row">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'EMPRESAS.PLAN' | translate }}</mat-label>
        <mat-select formControlName="plan" required>
          <mat-option *ngFor="let plan of planes" [value]="plan">
            {{ 'EMPRESAS.PLANS.' + plan | translate }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="empresaForm.get('plan')?.hasError('required')">{{ 'EMPRESAS.PLAN_REQUIRED' | translate }}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'EMPRESAS.SUBSCRIPTION_STATUS' | translate }}</mat-label>
        <mat-select formControlName="estadoSuscripcion" required>
          <mat-option *ngFor="let estado of estadosSuscripcion" [value]="estado">
            {{ 'EMPRESAS.STATUS.' + estado | translate }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'EMPRESAS.START_DATE' | translate }}</mat-label>
        <input matInput [matDatepicker]="pickerInicio" formControlName="fechaInicioSuscripcion">
        <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
        <mat-datepicker #pickerInicio></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'EMPRESAS.EXPIRATION_DATE' | translate }}</mat-label>
        <input matInput [matDatepicker]="pickerFin" formControlName="fechaFinSuscripcion">
        <mat-datepicker-toggle matSuffix [for]="pickerFin"></mat-datepicker-toggle>
        <mat-datepicker #pickerFin></mat-datepicker>
      </mat-form-field>
    </div>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>{{ 'EMPRESAS.LOGO_URL' | translate }}</mat-label>
      <input matInput formControlName="logoUrl">
    </mat-form-field>

    <mat-checkbox formControlName="activo">{{ 'GLOBAL.ACTIVE' | translate }}</mat-checkbox>

  </mat-dialog-content>

  <mat-dialog-actions align="end" class="form-actions">
    <button mat-flat-button color="warn" type="button" (click)="onCancel()">{{ 'GLOBAL.CANCEL' | translate }}</button>
    <button mat-flat-button color="primary" type="submit" [disabled]="empresaForm.invalid">
      {{ (isEditMode ? 'GLOBAL.UPDATE' : 'GLOBAL.SAVE') | translate }}
    </button>
  </mat-dialog-actions>
</form>